<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">
<head th:fragment="head (title)">
<!--	Lines 6 and 7 from https://stackoverflow.com/a/68063240 -->
	<meta charset="UTF-8">
	<meta name="_csrf" th:content="${_csrf.token}"/>
	<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title th:text="${title}"></title>
	<!-- Font Awesome -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
			rel="stylesheet"/>
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
			rel="stylesheet"/>
	<!-- MDB -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.0/mdb.min.css"
			rel="stylesheet"/>
	<link th:href="@{/css/style.css}" rel="stylesheet" type="text/css" />
	<!--	for profile page-->
	<link rel="stylesheet" th:href="@{/css/profile.css}">
</head>
<body>
	<!-- old Navbar -->
	<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-dark bg-dark">
		<!-- Container wrapper -->
		<div class="container navbar-container">
			<!-- Navbar brand -->
			<a class="navbar-brand nav-link me-2" th:href="@{/}">
				Run<i class="fas fa-play"></i>CMC
			</a>
			
			<!-- Toggle button -->
			<button
					class="navbar-toggler"
					type="button"
					data-mdb-toggle="collapse"
					data-mdb-target="#navbarButtons"
					aria-controls="navbarButtons"
					aria-expanded="false"
					aria-label="Toggle navigation"
			> <i class="fas fa-bars"></i>
			</button>
			
			<!-- Collapsible wrapper -->
			<div class="collapse navbar-collapse" id="navbarButtons">
				<!-- Left links -->
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" th:href="@{/aboutus}">About Us</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/profile}">Profile</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/discover}">Discover</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/create-topster}">Create</a>
					</li>
					<li sec:authorize="!isAuthenticated()">
						<a class="btn btn-primary btn-small active" th:href="@{/}" role="button" >Login</a>
					</li>
					<li sec:authorize="isAuthenticated()">
						<form th:action="@{/logout}" th:method="POST">
							<button class="btn btn-gradient btn-small active text-white" sec:authorize="isAuthenticated()">Logout</button>
						</form>
					</li>
					<li sec:authorize="!isAuthenticated()">
						<a class="btn btn-primary btn-small" th:href="@{/register}" role="button">Sign Up</a>
					</li>
				</ul>
				<!-- Left links -->
			</div>
			<!-- Collapsible wrapper -->
		</div>
		<!-- Container wrapper -->
	</nav>
	<!-- old Navbar -->

	<!--Section: new Navbar-->
	<nav th:fragment="navbar2" class="navbar navbar-expand-md d-none d-lg-block" style="z-index: 2000;">
		<div class="container-fluid">
			<!-- Navbar brand -->
			<a class="navbar-brand nav-link me-2" th:href="@{/}">Run<i class="fas fa-play"></i>CMC</a>
			<!-- Toggle button -->
			<button
					class="navbar-toggler"
					type="button"
					data-mdb-toggle="collapse"
					data-mdb-target="#navbarButtons"
					aria-controls="navbarButtons"
					aria-expanded="false"
					aria-label="Toggle navigation"
			> <i class="fas fa-bars"></i>
			</button>

			<!-- Collapsible wrapper -->
			<div class="collapse navbar-collapse" id="navbarButtons">
				<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" th:href="@{/aboutus}">About Us</a>
					</li>
					<li sec:authorize="isAuthenticated()" class="nav-item">
						<a class="nav-link" th:href="@{/profile}">Profile</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" th:href="@{/discover}">Discover</a>
					</li>
					<li sec:authorize="isAuthenticated()" class="nav-item">
						<a class="nav-link" th:href="@{/create-topster}">Create</a>
					</li>
					<li >
						<form th:action="@{/logout}" th:method="post">
							<button class="btn bth-primary btn-small active text-white" sec:authorize="isAuthenticated()">Logout
							</button>
						</form>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<!--End section: new Navbar-->
		
		<!-- Compiled and minified JavaScript -->
	<!-- MDB -->
	<script th:fragment="md-js"
			type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.0/mdb.min.js"></script>

	<!--jQuery-->
	<script th:fragment="jquery" src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</body>
</html>